# 卓球トレーニングアプリ - 必須項目リスト

## 1. 物理的な要素

### 必要なオブジェクト

- ボール
- ラケット（VR コントローラーで操作）
- 卓球台
- 床
- 射出装置（見えなくても OK）

### 物理的な設定が必要な項目

- ボールの重さ（2.7g）
- ボールの大きさ（直径 40mm）
- ボールの反発係数
- 卓球台の反発係数
- ラケットの反発係数
- 空気抵抗（必要な場合）
- 重力（9.81 m/s²）

## 2. ゲームシステム要素

### トレーニングモード設定

- スピードレベル（5 段階）
  - レベル 1: 20 km/h（±2 km/h）
  - レベル 2: 30 km/h（±5 km/h）
  - レベル 3: 40 km/h（±10 km/h）
  - レベル 4: 50 km/h（±15 km/h）
  - レベル 5: 60 km/h（±20 km/h）
- スピンレベル（5 段階）
  - レベル 1: スピンなし
  - レベル 2: 弱トップスピン
  - レベル 3: トップ＆バック
  - レベル 4: サイド含む
  - レベル 5: 複合スピン
- コースレベル（5 段階）
  - レベル 1: 固定位置
  - レベル 2: 左右 2 箇所
  - レベル 3: 左右交互
  - レベル 4: 限定範囲
  - レベル 5: 全面

### 必要な機能

1. トレーニング管理
   - モード選択
   - レベル設定
   - 開始/停止
   - リセット
2. ボール制御
   - 発射
   - 軌道計算
   - スピン適用
   - 衝突判定
3. データ記録
   - ボール位置
   - ラケット位置
   - 両目の位置
   - 視線情報
   - 成功/失敗判定
   - ヒットポイント（当たった場合）
   - ミス距離（外した場合）

## 3. UI 要素

### メニュー画面

- モード選択
- レベル設定スライダー
- 開始ボタン
- リセットボタン

### プレイ中の表示

- 現在の設定
- 成功/失敗カウント
- 進行状況

### 結果画面

- 成功率
- ヒットポイントの分布
- 詳細データ閲覧オプション

## 4. データ管理

### 記録するデータ

1. セッション情報
   - 日時
   - 選択したモード
   - 各レベル設定
   - 総球数
2. 各打球の詳細
   - 時刻
   - ボールの初速
   - スピンの種類と強さ
   - 目標位置
   - 実際のヒット位置
   - 成功/失敗
   - プレイヤーの動き
3. 視覚情報
   - 両目の位置と向き
   - 視線の方向
   - 注視点の移動

### データ形式

- JSON フォーマット
- タイムスタンプ付き
- 階層構造化されたデータ

## 5. XR 関連

### 必要な設定

- XR カメラリグ
- コントローラー入力設定
- 視線トラッキング設定
- ラケットとコントローラーの紐付け

### 考慮点

- コントローラーの追従精度
- 視界の確保
- UI 配置の最適化
- パフォーマンスの確保

## 6. デバッグ・調整用

### 可視化要素

- 目標エリアの表示
- 軌道予測線
- ヒットポイントマーカー
- デバッグ情報表示

### 調整項目

- 物理パラメータ
- 判定の許容範囲
- UI の配置
- 難易度バランス
